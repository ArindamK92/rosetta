<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rosetta Report</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100; /* Behind the navbar */
            padding: 48px 0 0; /* Height of navbar */
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
        }

        @media (max-width: 767.98px) {
            .sidebar {
                top: 5rem;
            }
        }

        .sidebar-sticky {
            height: calc(100vh - 48px);
            overflow-x: hidden;
            overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
        }

        /*
         * Navbar
         */

        .navbar-brand {
            padding-top: .75rem;
            padding-bottom: .75rem;
            background-color: rgba(0, 0, 0, .25);
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .25);
        }

        .navbar .navbar-toggler {
            top: .25rem;
            right: 1rem;
        }
    </style>
</head>
<body>
<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-5" href="/">
        <i class="bi bi-collection me-2"></i>
        <span class="fs-5">Rosetta Benchmark</span>
    </a>
    <ul class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-white">
        <li>
            <a href="https://github.com/Meinersbur/rosetta"
               class="nav-link fs-5 text-white">
                <i class="bi bi-github"></i>
                Code
            </a>
        </li>
    </ul>

</header>

<div class="container-fluid">

    <div class="row">
        <nav id="sidebarMenu"
             class="col-md-3 col-lg-2 d-md-block sidebar collapse">
            <div class="position-sticky pt-3 sidebar-sticky">
                <div class="d-flex align-items-center p-2 ps-3 text-decoration-none border-bottom">
                    <span class="fs-5">Reports</span>
                </div>
                <div id="left-menu" class="list-group rounded-0">


                    <a class="list-group-item list-group-item-action"
                       href="serial-openmp.html"><span><i
                            class="bi bi-bar-chart-fill me-2"></i> Serial - OpenMP PPMs</span></a>
                    <a class="list-group-item list-group-item-action"
                       href="serial-cuda-sycl.html"><span><i
                            class="bi bi-bar-chart-fill me-2"></i> Serial - CUDA - SYCL PPMs</span></a>
                    <a class="list-group-item list-group-item-action"
                       href="doitgen-serial-cuda-sycl.html"><span><i
                            class="bi bi-bar-chart-fill me-2"></i> Single benchmark demonstration</span></a>
                </div>
            </div>
        </nav>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h2 class="h2">Rosetta Benchmarking Framework</h2>
            </div>

            <section class="py-5 text-center container">
                <div class="row py-lg-5">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <h1 class="fw-light">Parallel Programming Languages
                            Rosetta Stone</h1>
                        <p class="lead text-muted">
                            Rosetta is a combinations of a benchmarking
                            framework and a
                            benchmark collection of codes in implemented
                            multiple programming languages, styles, idioms and
                            libraries.
                        </p>
                    </div>
                </div>
            </section>

            <div class="album py-5 bg-light">
                <div class="container">

                    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                        <div class="col">
                            <div class="card shadow-sm">
                                <img src="images/openmp-serial.png" alt=""
                                     height="200px">

                                <div class="card-body">
                                    <p class="card-text">
                                        Experience the brilliance of a colored,
                                        neat, and clean console report,
                                        delivering meaningful insights into
                                        parallel programming model benchmarks
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card shadow-sm">
                                <img src="images/table.png" alt=""
                                     height="200px">


                                <div class="card-body">
                                    <p class="card-text">
                                        Discover visually appealing insights
                                        beyond what the console report can
                                        offer with our Bootstrap-based web
                                        report
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card shadow-sm">
                                <img src="images/plot.png" alt=""
                                     height="200px">


                                <div class="card-body">
                                    <p class="card-text">
                                        Explore and compare benchmarks in multiple
                                        PPMs with visual appeal, featuring
                                        chart exporting to PDF and PNG format
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </main>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pdfkit@0.10.0/js/pdfkit.standalone.js"></script>
<script src="https://cdn.jsdelivr.net/npm/svg-to-pdfkit@0.1.8/source.js"></script>

<script>
    function exportPngImage(clickedButton) {
        const h2Element = clickedButton.parentNode; // Get the parent h2 element
        const svgElement = findNextSvgElement(h2Element);
        domtoimage.toPng(svgElement)
            .then(function (dataUrl) {
                var link = document.createElement('a');
                link.download = 'plot.png';
                link.href = dataUrl;
                link.click();
            })
            .catch(function (error) {
                console.error('Error exporting image: ', error);
            });
    }

    function findNextSvgElement(h2Element) {
        let nextElement = h2Element.nextSibling;

        while (nextElement) {
            if (nextElement.tagName === 'svg') {
                return nextElement;
            }
            nextElement = nextElement.nextSibling;
        }

        return null;
    }

    const svgToPdfExample = (svg) => {
        const doc = new window.PDFDocument({size: 'A1', layout: 'landscape'});
        const chunks = [];
        const stream = doc.pipe({
            // writable stream implementation
            write: (chunk) => chunks.push(chunk),
            end: () => {
                const pdfBlob = new Blob(chunks, {
                    type: 'application/octet-stream'
                });
                var blobUrl = URL.createObjectURL(pdfBlob);
                const a = document.createElement('a');
                a.href = blobUrl;
                a.download = 'plot.pdf'; // Set the desired filename and extension
                a.click();
            },
            on: (event, action) => {
            },
            once: (...args) => {
            },
            emit: (...args) => {
            },
        });

        window.SVGtoPDF(doc, svg, 0, 0, {
            preserveAspectRatio: 'xMinYMin meet'
        });

        doc.end();
    };

    function exportPdf(clickedButton) {
        const h2Element = clickedButton.parentNode;
        const svgElement = findNextSvgElement(h2Element);
        if (svgElement) {
            svgToPdfExample(svgElement);
        } else {
            console.log('The SVG element does not exist.');
        }
    }
</script>

</body>
</html>

